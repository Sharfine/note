# 笔记

## Pool

### entity

```java
@Data
@Entity//jpa
@DynamicUpdate//自动更新表结构
@ToString(callSuper = true)
@EqualsAndHashCode(callSuper = true)
@Table(indexes = {
        @Index(columnList = "phoneNumber", unique = true),
        @Index(columnList = "email")
})//索引
public class PoolUser extends BaseMySqlModel {

    @Column(nullable = false)
    private String phoneNumber;

    @Column
    private String email;

    @Column(nullable = false)
    private String password;

    @Column(nullable = false)
    @Enumerated(EnumType.STRING)
    private UserState state;
}
```

### dao

```java
public interface PoolUserDao extends JpaSpecificationExecutor<PoolUser>, JpaRepository<PoolUser, Integer> {

    /**
     * findOneByPhoneNumber
     *
     * @param phoneNumber phoneNumber
     * @return find
     */
    @Nullable
    PoolUser findOneByPhoneNumber(String phoneNumber);
	//jpa,输入find出提示，在输想要通过什么查，不用写sql
    Optional<PoolUser> findOneByEmail(String email);
  	
    
}
```



模型对象，通过获取前端传过来的数据，映射成此对象

```java
@Data
@ApiModel("用户设置邮箱")//接口文档
public class UserBindEmailReq {

    @ApiModelProperty(
            value = "手机验证码",
            required = true,
            example = "123456"
    )
    @NotNull
    @Pattern(regexp = RegexpConstant.AUTH_CODE, message = "Wrong authCode format")//regexp为验证规则正则表达式
    private String authCode;

    @ApiModelProperty(
            value = "邮箱号",
            required = true,
            example = "2810305079@qq.com"
    )
    @NotNull
    @Pattern(regexp = RegexpConstant.EMAIL_NUMBER, message = "Wrong EmailNumber format")
    private String email;
    @ApiModelProperty(
            value = "邮箱验证码",
            required = true,
            example = "123456"
    )
    @NotNull
    @Pattern(regexp = RegexpConstant.AUTH_CODE, message = "Wrong authCode format")
    private String emailAuthCode;


}
```

### controller

```java
@PostMapping("/bindEmail")
@ApiOperation("邮箱绑定")
public RestfulRsp bindEmail(
        @RequestBody @Validated UserBindEmailReq req) {//对req的属性进行验证
    String phoneNumber = SecurityContextHolder.getContext()
            .getAuthentication().getName();//获取jwt认证信息中的属性
    return RestfulRsp.success(userService.bindEmail(req, phoneNumber));
}
```

### service

```java
public String bindEmail(UserBindEmailReq req, String phoneNumber) {

    PoolUser user = userDao.findOneByPhoneNumber(phoneNumber);

    //手机已经绑定邮箱
    if (user.getEmail() != null) {
        throw new BusinessException("phoneNumber already register", "该手机已绑定");
    }

    //验证邮箱是否绑定过其他账号,ifpresent:非空判断，不为空时执行方法体。orElse:为空时输出指定值或方法
    userDao.findOneByEmail(req.getEmail()).ifPresent(poolUser -> {
        throw new BusinessException("EmailNumber already bind", "邮箱已绑定");
    });

    //校验手机验证码
    verifyAuthCode(phoneNumber, req.getAuthCode());

    //校验邮箱验证码
    verifyEmailAuthCode(req.getEmail(), req.getEmailAuthCode());

    //保存邮箱
    user.setEmail(req.getEmail());

    userDao.save(user);

    return "ok";
}
```

## mybatisPlus

### 分页

```java
/**
 * 翻页查询
 *
 * @param page         翻页对象
 * @param queryWrapper 实体对象封装操作类 {@link com.baomidou.mybatisplus.core.conditions.query.QueryWrapper}里面可以添加条件
 */
IPage<T> page(IPage<T> page, Wrapper<T> queryWrapper);

/**
 * 无条件翻页查询
 *
 * @param page 翻页对象
 * @see Wrappers#emptyWrapper()
 */
//default方法在借口中定义，可以有具体实现，可以补不重写
default IPage<T> page(IPage<T> page) {
    return page(page, Wrappers.emptyWrapper());
}
```

### 关系

```
gainsRecordService.page(pageContext, wrapper);gainsRecordService继承IService接口，拥有其所有抽象方法，所以GainsRecordServiceImpl实现gainsRecordService并实现所有gainsRecordService（IService）的方法，同时GainsRecordServiceImpl继承了ServiceImpl的所有方法，也就是重写了所有方法

IGainsRecordService extends IService<GainsRecord>
GainsRecordServiceImpl extends ServiceImpl<GainsRecordMapper, GainsRecord> implements IGainsRecordService


```

### 调用过程

```java
 @DataSource(name = DatasourceEnum.BUSINESS)
    @RequestMapping(value = "/list")
    @ResponseBody
    public Object list(@RequestParam(value = "phoneNumber", required = false) String phoneNumber) {

        Page<UserSpace> pageContext = LayuiPageFactory.defaultPage();//调用layui的分页接口创建分页容器

        Wrapper<UserSpace> wrapper;//条件对象
        if (phoneNumber == null || phoneNumber.isEmpty()) {
            wrapper = Wrappers.emptyWrapper();
        } else {
            wrapper = new QueryWrapper<UserSpace>().eq("phone_number", phoneNumber);//按手机号查询并分页
        }
        IPage<UserSpace> page = spaceService.page(pageContext, wrapper);//查出page对象
        return LayuiPageFactory.createPageInfo(page);//把page对象传给layui
    }

```

### 自定义方法

```java
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.stylefeng.guns.modular.pool.mapper.BlockMinedMapper">

    <select id="totalReward" resultType="integer">
        select sum(reward) from pool_block_mined;
    </select>
    <select id="todayReward" resultType="integer">
           select sum(reward) from pool_block_mined where to_days(time) = to_days(now());
//查询对应今天日期的数据
    </select>

</mapper>
//对应mapper.xml再写service和controller
```

## 配置多数据源

```java
mport cn.stylefeng.guns.config.datasource.properties.MutiDataSourceProperties;
import cn.stylefeng.roses.core.config.properties.DruidProperties;
import cn.stylefeng.roses.core.mutidatasource.DynamicDataSource;
import cn.stylefeng.roses.core.mutidatasource.aop.MultiSourceExAop;
import com.alibaba.druid.pool.DruidDataSource;
import org.mybatis.spring.annotation.MapperScan;
import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;
import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Primary;
import org.springframework.transaction.annotation.EnableTransactionManagement;

import java.sql.SQLException;
import java.util.HashMap;

/**
 * 多数据源配置<br/>
 * <p>
 * 注：由于引入多数据源，所以让spring事务的aop要在多数据源切换aop的后面
 *
 * @author stylefeng
 * @Date 2017/5/20 21:58
 */
@Configuration
@ConditionalOnProperty(prefix = "guns.muti-datasource", name = "open", havingValue = "true")
@EnableTransactionManagement(order = 2, proxyTargetClass = true)
@MapperScan(basePackages = {"cn.stylefeng.guns.modular.*.mapper"})
public class MultiDataSourceConfig {

    /**
     * druid配置和配置文件绑定（后台）
     */
    @Bean
    @ConfigurationProperties(prefix = "spring.datasource")
    public DruidProperties druidProperties() {
        return new DruidProperties();
    }

    /**
     * 二数据源配置pool
     */
    @Bean
    @ConfigurationProperties(prefix = "guns.muti-datasource")
    public MutiDataSourceProperties mutiDataSourceProperties() {
        return new MutiDataSourceProperties();
    }

    /**
     * 多数据源切换的aop
     */
    @Bean
    public MultiSourceExAop multiSourceExAop() {
        return new MultiSourceExAop();
    }

    /**
     * guns的数据源
     */
    private DruidDataSource dataSource(DruidProperties druidProperties) {
        DruidDataSource dataSource = new DruidDataSource();
        druidProperties.config(dataSource);
        return dataSource;
    }

    /**
     * 第二个数据源（）
     */
    private DruidDataSource bizDataSource(DruidProperties druidProperties, MutiDataSourceProperties mutiDataSourceProperties) {
        DruidDataSource dataSource = new DruidDataSource();
        druidProperties.config(dataSource);//把很多默认配置写到datasource
        mutiDataSourceProperties.config(dataSource);//覆盖主要配置
        return dataSource;
    }

    /**
     * 多数据源连接池配置
     */
    @Bean
    @Primary
    public DynamicDataSource mutiDataSource(DruidProperties druidProperties, MutiDataSourceProperties mutiDataSourceProperties) {

        DruidDataSource dataSourceGuns = dataSource(druidProperties);
        DruidDataSource bizDataSource = bizDataSource(druidProperties, mutiDataSourceProperties);

        try {
            dataSourceGuns.init();
            bizDataSource.init();
        } catch (SQLException sql) {
            sql.printStackTrace();
        }

        DynamicDataSource dynamicDataSource = new DynamicDataSource();
        HashMap<Object, Object> hashMap = new HashMap<>();
        hashMap.put(mutiDataSourceProperties.getDataSourceNames()[0], dataSourceGuns);
        hashMap.put(mutiDataSourceProperties.getDataSourceNames()[1], bizDataSource);
        dynamicDataSource.setTargetDataSources(hashMap);
        dynamicDataSource.setDefaultTargetDataSource(dataSourceGuns);
        return dynamicDataSource;
    }

}
```

## layui

官方文档

## 索引

``

```mysql
主键只能作用于一个列上，添加主键索引时，你需要确保该主键默认不为空（NOT NULL）。
mysql> ALTER TABLE testalter_tbl MODIFY i INT NOT NULL;
mysql> ALTER TABLE testalter_tbl ADD PRIMARY KEY (i);
```



## 反射





```java
获取字节码对象
Class clazz = Class.forName("cn.ph.test.UserDao");

反向获取对象实例
Object o = clazz.newInstance() 只能够调用无参的构造函数，即默认的构造函数； 
```

```Java
 Constructor con =  clazz.getConstructor(String.class, int.class);//传入构造
        User m = (User) con.newInstance("hello1", 10);
```


可以根据传入的参数，调用任意构造构造函数。 

```java
Method m = clazz.getMethod//获取到对应方法
m.invoke(o，m方法参数)//方法通过invoke来调用指定类的m方法
```

```java
//1.获取 公有 无参方法 
public void demo2.Person.public_prin()
        Method Person_public_prin=cl.getMethod("public_prin",null);
        Person_public_prin.invoke(user,null);
 
 //2.获取 公有 有参方法 
public void demo2.Person.public_show(java.lang.String,int)
        Method Person_public_show=cl.getMethod("public_show",String.class,int.class);
        
        Person_public_show.invoke(user,"神奇的我",12);
 
```

## 代理模式

为其他对象提供一个代理以控制对某个对象的访问。代理类主要负责为委托了（真实对象）预处理消息、过滤消息、传递消息给委托类，代理类不现实具体服务，而是利用委托类来完成服务，并将执行结果封装处理。

其实就是代理类为被代理类预处理消息、过滤消息并在此之后将消息转发给被代理类，之后还能进行消息的后置处理。代理类和被代理类通常会存在关联关系(即上面提到的持有的被带离对象的引用)，代理类本身不实现服务，而是通过调用被代理类中的方法来提供服务。

## 静态代理

通过继承或聚合实现

继承：子类增强方法，不灵活

聚合：比较好，一个类（代理类）有别的类的对象，用别的类调用

**ISubject**：抽象主题角色，是一个接口。该接口是对象和它的代理共用的接口。

**RealSubject**：真实主题角色，是实现抽象主题接口的类。

**Proxy**：代理角色，内部含有对真实对象RealSubject的引用，从而可以操作真实对象。代理对象提供与真实对象相同的接口，以便在任何时刻都能代替真实对象。同时，代理对象可以在执行真实对象操作时，附加其他的操作，相当于对真实对象进行封装。

代理模式最主要的就是有一个公共接口（Person），一个具体的类（Student），一个代理类（StudentsProxy）,代理类持有具体类的实例，代为执行具体类实例方法**

创建一个接口，然后创建被代理的类实现该接口并且实现该接口中的抽象方法。之后再创建一个代理类，同时使其也实现这个接口。在代理类中持有一个被代理对象的引用，而后在代理类方法中调用该对象的方法。

接口：**和接口的关系不是很大，接口是为了规范两个类的方法一致**，更主要的是一种规范

```csharp
public interface HelloInterface {
    void sayHello();
}
```

被代理类：

```java
public class Hello implements HelloInterface{
    @Override
    public void sayHello() {
        System.out.println("Hello zhanghao!");
    }
}
```

代理类：

```java
public class HelloProxy implements HelloInterface{
    private HelloInterface hello ；
    
      public HEllOPROXY (HelloInterface Hello){
      this.HelloInterface = Hello;
    }
    @Override
    public void sayHello() {
        System.out.println("Before invoke sayHello" );
        helloInterface.sayHello();
        System.out.println("After invoke sayHello");
    }
}
```

代理类调用：
 被代理类被传递给了代理类HelloProxy，代理类在执行具体方法时通过所持用的被代理类完成调用。

```cpp
    public static void main(String[] args) {
        HelloProxy helloProxy = new HelloProxy();
        helloProxy.sayHello();
    }
    
输出：
Before invoke sayHello
Hello zhanghao!
After invoke sayHello
```

使用静态代理很容易就完成了对一个类的代理操作。但是静态代理的缺点也暴露了出来：由于代理只能为一个类服务，如果需要代理的类很多，那么就需要编写大量的代理类，比较繁琐。

#### 实例

日志，事物，时间可以实现一个抽象类，代理类传入其中一个对象，调用其方法，再把代理对象放入代理对象。

## [动态代理](https://blog.csdn.net/qq_37745636/article/details/98843517)

**AOP是基于动态代理实现的，即 JDK动态代理和Cglib动态代理。**

### **JDK动态代理**

**是基于Java的反射机制实现的**，主要涉及到java.lang.reflect包中的Proxy和InvocationHandler。目标类必须实现接口，InvocationHandler是一个接口，通过实现这个接口定义一个横切的逻辑！然后通过反射机制调用目标类的方法，这样就能动态的把非业务逻辑和业务逻辑动态的拼接在一起！

proxy则利用InvocationHandler创建代理实例，来间接的调用代理的方法！

实现：

//代理对象，代理对象调用方法要反射原对象的方法并增强

```java
//proxy和转化成接口类型
//比如写好了可以吧所有实现类放进去，而且不用改
Subject subject = (Subject) Proxy.newProxyInstance(loader, interfaces, handler)`
```

```Java
    InvocationHandler handler = new InvocationHandlerImpl(realSubject);
		//实现InvocationHandler
    ClassLoader loader = realSubject.getClass().getClassLoader();
		//获得类加载器
    Class[] interfaces = realSubject.getClass().getInterfaces();
		//获取接口
```







```java
public class InvocationHandlerImpl implements InvocationHandler
{
/**
 * 这个就是我们要代理的真实对象
 */
private Object subject;
 
/**
 * 构造方法，给我们要代理的真实对象赋初值
 *
 * @param subject
 */
public InvocationHandlerImpl(Object subject)
{
    this.subject = subject;
}
 
/**
 * 该方法负责集中处理动态代理类上的所有方法调用。//代理调用都会触发此方法
 * 调用处理器根据这三个参数进行预处理或分派到委托类实例上反射执行
 *
 * @param proxy  代理类实例
 * @param method 被调用的方法对象
 * @param args   调用参数
 * @return
 * @throws Throwable
 */
public Object invoke(Object proxy, Method method, Object[] args) throws Throwable
{
    //在代理真实对象前我们可以添加一些自己的操作
    System.out.println("在调用之前，我要干点啥呢？");
 
    System.out.println("Method:" + method);
 
    //当代理对象调用真实对象的方法时，其会自动的跳转到代理对象关联的handler对象的invoke方法来进行调用
    Object returnValue = method.invoke(subject, args);
 
    //在代理真实对象后我们也可以添加一些自己的操作
    System.out.println("在调用之后，我要干点啥呢？");
 
    return returnValue;
}
```


```java
    测试
		public static void main(String[] args)
    {
        //代理的真实对象
        Subject realSubject = new RealSubject();
		/**
     * InvocationHandlerImpl 实现了 InvocationHandler 接口，并能实现方法调用从代理类到委托类的分派转发
     * 其内部通常包含指向委托类实例的引用，用于真正执行分派转发过来的方法调用.
     * 即：要代理哪个真实对象，就将该对象传进去，最后是通过该真实对象来调用其方法
     */
    InvocationHandler handler = new InvocationHandlerImpl(realSubject);
 
    ClassLoader loader = realSubject.getClass().getClassLoader();
    Class[] interfaces = realSubject.getClass().getInterfaces();//能够获得这个对象所实现的接口
    /**
     * 该方法用于为指定类装载器、一组接口及调用处理器生成动态代理类实例
     */
    Subject subject = (Subject) Proxy.newProxyInstance(loader, interfaces, handler);
 
    System.out.println("动态代理对象的类型："+subject.getClass().getName());
 
    String hello = subject.SayHello("jiankunking");
    System.out.println(hello);
    //        String goodbye = subject.SayGoodBye();
		//        System.out.println(goodbye);
    }

}

```
### 只代理自己的方法

还是先看动态代理,主要是代理的生成过程,我们需要一个继承InvocationHandler的类,然后实现
public Object invoke(Object proxy, Method method, Object[] args) throws Throwable
的方法,然后在方法内部写我们需要的代理.
重点在于method这个参数,它的类型是Method,是反射包中的一个,如果我们想要只代理指定的方法,只要通过method指定方法名就可以了,
例如 if ("xxx".equals(method.getName())),然后在内部写我们的代理的内容,如果是不想代理的方法,直接使用method.invoke()就可以了

这个是Java动态代理的方法,cglib也是同样的

#### cglib

这一篇我们来看看CgLib动态代理，本来以为CGLib动态代理和JDK实现的方式差不多的，但是仔细了解一下之后还是有很大的差异的，这里我们先简单说一下这两种代理方式最大的区别，JDK动态代理是基于接口的方式，换句话来说就是代理类和目标类都实现同一个接口，那么代理类和目标类的方法名就一样了，这种方式上一篇说过了；CGLib动态代理是代理类去继承目标类，然后重写其中目标类的方法啊，这样也可以保证代理类拥有目标类的同名方法；

　　看一下CGLib的基本结构，下图所示，代理类去继承目标类，每次调用代理类的方法都会被方法拦截器拦截，在拦截器中才是调用目标类的该方法的逻辑，结构还是一目了然的；

```java
//被代理类
public class Dog{
    
    final public void run(String name) {
        System.out.println("狗"+name+"----run");
    }
    
    public void eat() {
        System.out.println("狗----eat");
    }
```

```java
//方法拦截器，代理对象调用方法时调用拦截器

public class MyMethodInterceptor implements MethodInterceptor{

    @Override
    public Object intercept(Object obj, Method method, Object[] args, MethodProxy proxy) throws Throwable {
        System.out.println("这里是对目标类进行增强！！！");
        //注意这里的方法调用，不是用反射哦！！！
        Object object = proxy.invokeSuper(obj, args);
      	
      	System.out.println("这里是对目标类进行增强！！！");
        return object;
    }  
}
```



```java
//测试类
public class CgLibProxy {
    public static void main(String[] args) {
        
        //创建Enhancer对象，类似于JDK动态代理的Proxy类，下一步就是设置几个参数
        Enhancer enhancer = new Enhancer();
        //设置目标类的字节码文件
        enhancer.setSuperclass(Dog.class);
        //设置回调函数
        enhancer.setCallback(new MyMethodInterceptor());
        
        //这里的creat方法就是正式创建代理类
        Dog proxyDog = (Dog)enhancer.create();
        //调用代理类的eat方法
        proxyDog.eat();       
    }
}

//原理
当我们代码调用代理对象的eat方法，然后会到方法拦截器中调用intercept方法，该方法内则通过proxy.invokeSuper调用CGLIB$eat$0这个方法
，当我们去调用方法一的时候，在代理类中会先判断是否实现了方法拦截的接口，没实现的话直接调用目标类的方法一；如果实现了那就会被方法拦截器拦截，在方法拦截器中会对目标类中所有的方法建立索引，其实大概就是将每个方法的引用保存在数组中，我们就可以根据数组的下标直接调用方法，而不是用反射；索引建立完成之后，方法拦截器内部就会调用invoke方法（这个方法在生成的FastClass中实现），在invoke方法内就是调用CGLIB$方法一$这种方法；
```

```java
上面我们看了CGLib动态代理的用法、实际生成的代理类以及FastClass机制，下面我们就以最前面的那个例子中调用eat（）方法来看看主要的调用步骤；

　　第一步：是经过一系列操作实例化出了Enhance对象，并设置了所需要的参数然后enhancer.create()成功创建出来了代理对象，这个就不多说了...

　　第二步：调用代理对象的eat（）方法，会进入到方法拦截器的intercept（）方法，在这个方法中会调用proxy.invokeSuper(obj, args);方法

　　第三步：invokeSuper中，通过FastClass机制调用目标类的方法

　　方法拦截器中只有一个invoke方法，这个方法有四个参数，obj表示代理对象，method表示目标类中的方法，args表示方法参数，proxy表示代理方法的MethodProxy对象

　　在这个方法内部会调用proxy.invokeSuper(obj, args)方法，我们进入.invokeSuper方法内部看看：

　

　　FastClassInfo内部如下图，由此可以看出prxy.invokeSuper（）方法中fci.f2.invoke(fci.i2, obj, args)，其实就是调用CGLIB$eat$这个方法

 　　invoke方法是个抽象方法，我们反编译一下代理类的FastClass（也就是生成的那三个字节码文件名称最长的那个）就可以看到，由于代码比较长，就不复制了...

简单来说就是无方法拦截器调用eat，有
```



```java
 //代理类
//这个方法就是调用目标类的的eat方法
    final void CGLIB$eat$0()
    {
        super.eat();
    }

    //这个方法是我们是我们要调用的，在前面的例子中调用代理对象的eat方法就会到这个方法中
    public final void eat(){
        //CGLIB$CALLBACK_0 = (MethodInterceptor)callback;
        CGLIB$CALLBACK_0;
        //这里就是判断CGLIB$CALLBACK_0是否为空，也就是我们传入的方法拦截器是否为空，如果不为空就最终到下面的_L4
        if(CGLIB$CALLBACK_0 != null) goto _L2; else goto _L1
_L1://无拦截器
        JVM INSTR pop ;
        CGLIB$BIND_CALLBACKS(this);
        CGLIB$CALLBACK_0;
_L2:
        JVM INSTR dup ;
        JVM INSTR ifnull 37;
           goto _L3 _L4
_L3:
        break MISSING_BLOCK_LABEL_21;
_L4://有拦截器
        break MISSING_BLOCK_LABEL_37;
        this;
        CGLIB$eat$0$Method;
        CGLIB$emptyArgs;
        CGLIB$eat$0$Proxy;
        //这里就是调用方法拦截器的intecept（）方法
        intercept();//把方法存入数组，按索引来反射方法
        return;
        super.eat();//无拦截器调用
        return;
    }
```



![img](https://img2018.cnblogs.com/blog/1368608/201906/1368608-20190602215701685-1483535597.png)


## jpa

#### 从`@EnableJpaRepositories`说起

配置Spring Data JPA的时候通常就是通过`@EnableJpaRepositories`开启的，而通过注解就可以让整个JPA run起来，其中最重要的就是在`@EnableJpaRepositories`中import了`JpaRepositoriesRegistrar`，而这个配置就是入口所在。

先说明一下，Spring Data可不仅仅只有JPA的实现，还有其他各种各样的实现（如，JDBC，Redis，LDAP等），所以基本都是基于SPI（Service Provider Interface）解耦分层，所以大部分实现操作都是在`spring-data-commons`包中完成的。

##### JpaRepositoriesRegistrar

首先来看JpaRepositoriesRegistrar提供的功能，在`spring-data-jpa`包中，主要是用于告诉`spring-data-commons`抽象层的一些具体配置与解析：

- getAnnotation()，提供JAP配置注解类，即@EnableJpaRepositories
- getExtension()，提供JpaRepositoryConfigExtension，用于解析@EnableJpaRepositories

##### RepositoryBeanDefinitionRegistrarSupport

JpaRepositoriesRegistrar继承于RepositoryBeanDefinitionRegistrarSupport，它就是加载Repositories的关键:

- registerBeanDefinitions，向Spring容器注册JpaRepositoryFactoryBean

#### 大致步骤

所以，大致可以分为三大块，JPA加载的入口，注册JpaRepositoryFactoryBean和通过JpaRepositoryFactoryBean创建Repository

-  `@EnableJpaRepositories` import JpaRepositoriesRegistrar
- JpaRepositoriesRegistrar.registerBeanDefinitions，注册JpaRepositoryFactoryBean
- JpaRepositoryFactoryBean.afterPropertiesSet，创建Repository

```kotlin
public void afterPropertiesSet() {

    this.factory = createRepositoryFactory();
    this.factory.setQueryLookupStrategyKey(queryLookupStrategyKey);
    this.factory.setNamedQueries(namedQueries);
    this.factory.setEvaluationContextProvider(
            evaluationContextProvider.orElseGet(() -> QueryMethodEvaluationContextProvider.DEFAULT));
    this.factory.setBeanClassLoader(classLoader);
    this.factory.setBeanFactory(beanFactory);

    if (publisher != null) {
        this.factory.addRepositoryProxyPostProcessor(new EventPublishingRepositoryProxyPostProcessor(publisher));
    }

    repositoryBaseClass.ifPresent(this.factory::setRepositoryBaseClass);

    RepositoryFragments customImplementationFragment = customImplementation //
            .map(RepositoryFragments::just) //
            .orElseGet(RepositoryFragments::empty);

    RepositoryFragments repositoryFragmentsToUse = this.repositoryFragments //
            .orElseGet(RepositoryFragments::empty) //
            .append(customImplementationFragment);

    this.repositoryMetadata = this.factory.getRepositoryMetadata(repositoryInterface);

    // Make sure the aggregate root type is present in the MappingContext (e.g. for auditing)
    this.mappingContext.ifPresent(it -> it.getPersistentEntity(repositoryMetadata.getDomainType()));
    
    //这里创建Repository    
    this.repository = Lazy.of(() -> this.factory.getRepository(repositoryInterface, repositoryFragmentsToUse));

    if (!lazyInit) {
        this.repository.get();
    }
}
```

具体来看`RepositoryFactorySupport.getRepository()`方法

```java
public <T> T getRepository(Class<T> repositoryInterface, RepositoryFragments fragments) {

    if (LOG.isDebugEnabled()) {
        LOG.debug("Initializing repository instance for {}…", repositoryInterface.getName());
    }

    Assert.notNull(repositoryInterface, "Repository interface must not be null!");
    Assert.notNull(fragments, "RepositoryFragments must not be null!");

    RepositoryMetadata metadata = getRepositoryMetadata(repositoryInterface);
    RepositoryComposition composition = getRepositoryComposition(metadata, fragments);
    //指定RepositoryBaseClass为SimpleJpaRepository
    RepositoryInformation information = getRepositoryInformation(metadata, composition);

    validate(information, composition);

    Object target = getTargetRepository(information);

    // Create proxy
    ProxyFactory result = new ProxyFactory();
    result.setTarget(target);
    result.setInterfaces(repositoryInterface, Repository.class, TransactionalProxy.class);
    
    //Bean Validation Advice
    if (MethodInvocationValidator.supports(repositoryInterface)) {
        result.addAdvice(new MethodInvocationValidator());
    }
    //事务 Advice
    result.addAdvice(SurroundingTransactionDetectorMethodInterceptor.INSTANCE);
    result.addAdvisor(ExposeInvocationInterceptor.ADVISOR);
    
    //RepositoryProxyPostProcessor处理
    postProcessors.forEach(processor -> processor.postProcess(result, information));
    
    //默认方法 Advice,背后实现为SimpleJpaRepository
    result.addAdvice(new DefaultMethodInvokingMethodInterceptor());

    ProjectionFactory projectionFactory = getProjectionFactory(classLoader, beanFactory);
    //自定义方法 Advice aop
    result.addAdvice(new QueryExecutorMethodInterceptor(information, projectionFactory));

    composition = composition.append(RepositoryFragment.implemented(target));
    //自定义实现方法的 Advice aop
    result.addAdvice(new ImplementationMethodExecutionInterceptor(composition));
    
    //通过动态代理创建Repository
    T repository = (T) result.getProxy(classLoader);

    if (LOG.isDebugEnabled()) {
        LOG.debug("Finished creation of repository instance for {}.", repositoryInterface.getName());
    }

    return repository;
}
```

通过源码我们可以知道，Spring Data JPA是基于SimpleJpaRepository类的动态代理实现，通过AOP实现对自定义方法进行处理的

### aop动态代理

Spring定义了org.springframework.aop.framework.AopProxy接口，并提供了两个final类型的实现类。

AopProxy类结构:

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/enhtmlclip/Image(2).png)![img](data:image/png;base64,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)

Cglib2AopProxy使用CGLib动态代理技术创建代理，而JdkDynamicAopProxy使用JDK动态代理技术创建代理。

如果ProxyFactory的setInterfaces(Class[] interfaces)方法指定目标接口进行代理（代理一个接口），则ProxyFactory使用JdkDynamicAopProxy；如果是针对类的代理（代理整个类），则使用Cglib2AopProxy。此外，还可以通过ProxyFactory的setOptimize(true)方法让ProxyFactory启动优化代理方式，这样，针对接口的代理也会使用Cglib2AopProxy。

``

```java
ProxyFactory pf = new ProxyFactory();

pf.setInterfaces(target.getClass().getInterfaces());    //指定对接口进行代理

pf.setOptimize(true);    //启用优化，则ProxyFactory将使用Cglib2AopProxy代理，否则默认JDK代理

pf.setTarget(target);//实体类

pf.addAdvice(advice);//通知
```

https://www.jianshu.com/p/6a7432a1aed8

```java
 @Test
    public void testProxy2() throws Throwable {
        TestBean raw = new TestBean();
        raw.setAge(32);
        AdvisedSupport pc = new AdvisedSupport(ITestBean.class);
        pc.setTarget(raw);

        {
            MethodBeforeAdvice mi = new MethodBeforeAdvice()
            {
                @Override
                public void before(Method method, Object[] args, Object target) throws Throwable {
                    System.out.println("before");
                }
            };
            pc.addAdvice(mi);
        }

        {
            AfterReturningAdvice mi = new AfterReturningAdvice()
            {
                @Override
                public void afterReturning(Object returnValue, Method method, Object[] args, Object target) throws Throwable {
                    System.out.println("after");
                }
            };
            pc.addAdvice(mi);//AdvisedSupport可以传入Advice
        }

        JdkDynamicAopProxy aop = new JdkDynamicAopProxy(pc);//对象构造方法传入AdvisedSupport

        ITestBean proxy = (ITestBean) aop.getProxy();
        proxy.setName("test");
        assertTrue(proxy instanceof ITestBean);
        assertFalse(proxy instanceof TestBean);
    }
```



如果传入的AdvisedSupport实例config的isOptimize或者isProxyTargetClass方法返回true，或者目标对象没有实现任何接口，则采用CGLIB生成代理对象，否则使用动态代理。

AopProxyFactory需要根据createAopProxy方法传入的AdvisedSupport实例信息，来构建相应的AopProxy。

AdvisedSupport其实就是一个生成代理对象所需要的信息的载体

**AdvisedSupport**所承载的信息可以划分为两类，

​		一类以org.springframework.aop.framework. ProxyConfig为统领，**记载生成代理对象的控制信息**；

​		一类以org.springframework.aop.framework. Advised为旗帜，**承载生成代理对象所需要的必要信息，如相关目标类、Advice、Advisor等。**

##### ProxyConfig

其实就是一个普通的JavaBean，它定义了5个boolean型的属性，分别控制在生成代理对象的时候，应该采取哪些行为措施，下面是这5个属性的详细情况。

**proxyTargetClass**。在9.5.1节的第2小节中已经提到过这个属性，**如果proxyTargetClass属性设置为true，则ProxyFactory将会使用CGLIB对目标对象进行代理**，默认值为false。

**optimize**。该属性的主要用于告知代理对象是否需要采取进一步的优化措施，如代理对象生成之后，即使为其添加或者移除了相应的Advice，代理对象也可以忽略这种变动。另外，我们也曾经提到，**当该属性为true时，ProxyFactory会使用CGLIB进行代理对象的生成**。默认情况下，该属性为false。更多信息参照Spring的Javadoc以及参考文档。

**opaque**。该属性用于控制**生成的代理对象是否可以强制转型为Advised**，**默认值为false，表示任何生成的代理对象都可强制转型为Advised**，我们可以通过Advised查询代理对象的一些状态。

**exposeProxy**。设置exposeProxy，**可以让Spring AOP框架在生成代理对象时，将当前代理对象绑定到ThreadLocal**。如果目标对象需要访问当前代理对象，**可以通过AopContext. currentProxy()取得**。该属性的用途将在后文中详细讲述。出于性能方面考虑，该属性默认值为false。

**frozen**。**如果将frozen设置为true，那么一旦针对代理对象生成的各项信息配置完成，则不容许更改**。比如，如果ProxyFactory的设置完毕，并且fronzen为true，则不能对Advice进行任何变动，这样可以优化代理对象生成的性能。默认情况下，该值为false。

**要生成代理对象，只有ProxyConfig提供的控制信息还不够，我们还需要生成代理对象的一些具体信息，比如，要针对哪些目标类生成代理对象，要为代理对象加入何种横切逻辑等，这些信息可以通过org.springframework.aop.framework.Advised设置或者查询。**默认情况下，Spring AOP框架返回的代理对象都可以强制转型为Advised，以查询代理对象的相关信息。Advised的接口定义代码太长，我们就不在此罗列了，你可以参照它的Javadoc。简单点儿说，**我们可以使用Advised接口访问相应代理对象所持有的Advisor，进行添加Advisor、移除Advisor等相关动作**。即使代理对象已经生成完毕，也可对其进行这些操作。直接操作Advised，更多时候用于测试场景，可以帮助我们检查生成的代理对象是否如所期望的那样。（有关Advised的更多信息，请参照Spring的参考文档，因为与我们的主题相关性不大，这里不进行详细讲述。）

回到之前的AdvisedSupport话题，AdvisedSupport继承了ProxyConfig，我们可以通过AdvisedSupport设置代理对象生成的一些控制属性。AdvisedSupport同时实现了Advised接口，我们也可以通过AdvisedSupport设置生成代理对象相关的目标类、Advice等必要信息。这样，具体的AopProxy实现在生成代理对象时，可以从AdvisedSupport这里取得所有这些必要信息。



**addAdvice、addAdvisor、getProxy**，其中最后一个方法是我们本节的重点。前两个方法都是向ProxyFactory中成员变量advisors中加入成员，以便后面调用方法时实现拦截。

在addAdvice中会调用到addAdvisor，而内部封装的advisor实际类型是DefaultPointcutAdvisor。

ProxyFactory.getProxy，该方法返回一个代理对象，该代理对象除了实现了ProxyFactory.targetSource.getTargetClass所实现接口，另外实现了SpringProxy、Advised、DecoratingProxy这三个接口。

### springboot整合jpa

[test](./jpa)

## 注意点

#### 1：java接口可以多继承。

Interface3 Extends Interface0, Interface1, interface……

**接口全都是抽象方法继承谁都无所谓，所以接口可以继承多个接口。**

JPA的接口只继承了一个接口，没有实现类，是怎么把内容查出来的？

在你项目运行的时候生成了动态代理类

### 

#### 2：开启 dubbo 注解配置

提供者和消费者都在工程的注 application 文件中开启 dubbo 的注解配置。即在 @SpringBootApplication 上方添加：@EnableDubbo。



枚举的常量对象是唯一的

因为每个枚举常量只有一个实例，所以如果在比较两个参考值，至少有一个涉及到枚举常量时，允许使用“==”代替equals()。（equals()方法在枚举类中是一个final方法，在参数和返回结果时，很少调用父类的equals()方法，因此是一种恒等的比较。）

#### 3.json反序列化

```java
 private YunXinEventType eventType;

    private YunXinConvType convType;

    private String to;

    private String fromAccount;

//此字段按set方法自定义反序列化
@JSONField(name = "eventType")
public void setEventType(String eventType) {
    this.eventType = YunXinEventType.of(eventType);
}
```

```java
//当从json创建java时,@JsonCreator注解的构造函数被会调用
//如果没有这个注解,则默认会调用无参的构造函数
//但当你定义一个java类时 只定义了有参的构造函数,没有定义无参的构造函数时,这种场景你没用@JsonCreator注解会报错
@JsonCreator
    static public YunXinEventType of(String code) {
        for (val rspCode : YunXinEventType.values()) {
            if (code.equals(rspCode.code)) {
                return rspCode;
            }
        }
        log.warn("Unknown YunXinEventType: {}", code);
        return UNKNOWN;
    }
```

#### 4.lamdaforeach注意点

Return ,[break](https://www.cnblogs.com/zhuyeshen/p/12157626.html)

#### 5.MySql

不要使用 `column is null` 进行判空，使用 `ISNULL(column)` 判空，效率更高，也不会出现换行的情况。

```sql
select * from cms_subject where column is null and
column1 is not null;

select * from cms_subject where ISNULL(column) and
column1 is not null;

```

#### 6[.<? extends T>`和`<? super T>](https://www.jianshu.com/p/520104cfd0ff)

- **频繁往外读取内容的，适合用上界Extends。**
- **经常往里插入的，适合用下界Super。**
- <? extends C>
  - add():编译器只知道类型是 C 或 C 的子类，所以有可能是 C D E F 其中一个类型，为保证类型安全不能添加除了 null 以外的任何元素，即使是 C 本身也不行(车不能代表单车)。
  - get():既然编译器不知道此时集合中的元素是 C D E F 的哪一个，返回类型只能是他们共同父类 C 类型。
- <? super C>
  - add():编译器只知道类型是 C 或者 C 的父类，所以有可能是 A B C 其中一个类型。编译器知道下界是 C ，根据类型向上兼容所以可以添加的元素是 C 以及 C 的子类(单车可以代表车)。
  - get():既然编译器不确定集合类型是 A B C 的哪一种，返回类型只能是他们的共同父类 Object 。



## im

- [即时通讯im](./im)
  - mongdb
    - 前后台创建索引的区别
  - redis
    - 逻辑最好写在cacheUtil类中
  - rabbitmq

### lombok

```java
@Data
@ToString(callSuper = true)
@EqualsAndHashCode(callSuper = true)
//toString和EqualsAndHashCode都要判断父类的属性
//不用true会产生两个对象父类的属性不一致，本类的属性一致equal也为true
```

## Api

##### [String类](https://blog.csdn.net/chao821/article/details/83783501)

#### [Optional](https://www.cnblogs.com/zhangboyu/p/7580262.html)

- 两个 *Optional*  对象都包含非空值，两个方法都会返回对应的非空值。不过，*orElse()* 方法仍然创建了 *User* 对象（后面为空时的结果）。**与之相反，orElseGet() 方法不创建 User** **对象。**

- 在执行较密集的调用时，比如调用 Web 服务或数据查询，**这个差异会对性能产生重大影响**。

- 验证是否有值isPresent()

- *ifPresent()* 方法。该方法除了执行检查，还接受一个*Consumer(消费者*) 参数，如果对象不是空的，就对执行传入的 Lambda 表达式：

  ```
  opt.ifPresent( u -> assertEquals(user.getEmail(), u.getEmail()));
  ```

- 



#### [原子操作类AtomicInteger详解](https://blog.csdn.net/fanrenxiang/article/details/80623884) 



##### [Java中Volatile关键字详解](https://www.cnblogs.com/zhengbin/p/5654805.html)



- 1.线程所见的值在使用之前总会从主内存中读出来；　　
- 不使用volatile时，变量赋值需要读取、赋值、写回，赋值改变的是读取到工作内存的一个拷贝，需要写回到主内存之后其他线程才能看见这个新的值；
- 2.线程所写的值总会在指令完成之前被刷回到主内存中；
- volatile之所以不能线程安全，是因为指的是 Java 运算并非原子操作，//虽然读取的是新的值，是线程安全的，但如果读完之后，其他线程改变了这个值，该线程不会重新读取，依然用的是之前读取的值，从而出现线程同步问题。
- 而volatile关键字的作用是，告诉编译器，不要将这个变量改变为寄存变量。
  寄存器是一个在cpu中的存储器， 访问寄存器中的数据比访问内存中的数据快得多。

#### 内存优化

https://www.cnblogs.com/huangxincheng/p/12784230.html

[bitmap](https://www.cnblogs.com/huangxincheng/archive/2012/12/06/2804756.html)

 在byte数组里放byte,一个byte放8个数

```

7 >> 3//相当于除2的三次，一个byte的长度，获得在数组的下标
i & 0x07//相当于 i%8 的功能，在byte的第几个位置
```

##### Stream

- [用流收集数据Collectors的用法介绍分组groupingBy](https://blog.csdn.net/TreeShu321/article/details/100165535)
  - 
- https://blog.csdn.net/weixin_38294999/article/details/89277697
- [demo](./Stream)

##### [list，map，set](https://www.jianshu.com/p/ff69ec0fa1a5)

- 如果遇到多个线程操作同一个容器的场景，则可以通过工具类Collections中的synchronizedList方法将其转换成线程安全的容器后再使用
- Vector属于遗留容器已经不推荐使用
- IdentityHashMap：key可以重复的Map集，  key允许重复，只要两个对象的地址不相等即可。



##### 

## [forkjion和ParallelStreams](https://blog.csdn.net/u011001723/article/details/52794455/)

```java
stream多线程遍历同 list.parallelStream()
@Test
void parallelStream() {
    // 构造一个10000个元素的集合
    List<Integer> list = new ArrayList<>();
    for (int i = 0; i < 100000; i++) {
        list.add(i);
    }
    Set<Thread> set = new HashSet<>();
    list.stream().parallel().forEach(integer -> {
        Thread t = Thread.currentThread();
        set.add(t);
    });
    set.forEach(System.out::println);
}
```